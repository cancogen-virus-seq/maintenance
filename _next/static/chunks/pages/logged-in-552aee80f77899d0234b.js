_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"+EnA":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logged-in",function(){return e("ILW+")}])},"ILW+":function(t,n,e){"use strict";e.r(n);var c=e("o0o1"),o=e.n(c),r=e("HaE+"),a=e("q1tI"),i=e("AeFk"),u=e("nOHt"),l=e.n(u),s=e("T/ZZ"),d=e.n(s),f=e("c4J/"),b=e("atfL"),g=e("rczK"),h=e("V7Kk"),p=e("qjkh"),_=e("cHKd"),w=e("zFlY"),E=e("T1SE"),O=e("BGKE"),j=Object(E.a)({getInitialProps:function(){var t=Object(r.a)(o.a.mark((function t(n){var e,c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.egoJwt,c=n.asPath,r=n.query,t.abrupt("return",{egoJwt:e,query:r,asPath:c});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),isPublic:!0})((function(){var t=Object(h.default)().logEvent;return Object(a.useEffect)((function(){!function(t){var n=Object(g.c)(),e=n.NEXT_PUBLIC_EGO_API_ROOT,c=n.NEXT_PUBLIC_EGO_CLIENT_ID,o=d()(e,"/oauth/ego-token?client_id=".concat(c));fetch(o,{credentials:"include",headers:{accept:"*/*"},body:null,method:"POST"}).then((function(t){if(200!==t.status)throw new Error;return t.text()})).then((function(n){if(!Object(w.c)(n))throw t("Invalid JWT provided by Ego/Keycloak"),new Error("Invalid jwt, cannot login.");localStorage.setItem(p.c,n),t("Logged in"),setTimeout((function(){return l.a.push(Object(_.a)({path:p.g}))}),2e3)})).catch((function(n){console.warn(n),localStorage.removeItem(p.c),t("Failed to login"),l.a.push(Object(_.a)({path:p.e}))}))}((function(n){t({category:"User",action:n})}))})),Object(O.b)(b.b,{children:Object(O.c)("div",{css:function(t){return Object(i.b)("display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:",t.colors.grey_2,";","")},children:[Object(O.b)(f.c,{margin:"0 auto"}),Object(O.b)("div",{css:function(t){return Object(i.b)("margin-top:2rem;color:",t.colors.accent,";",t.typography.heading,";","")},children:"Logging in..."})]})})}));n.default=j}},[["+EnA",1,2,3,0,4,11]]]);